(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],l=0,p=[];l<c.length;l++)r=c[l],o[r]&&p.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-5a8d":"0fd2f57f"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-5a8d":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-5a8d":"7e44e042"}[t]+".css",r=s.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=o[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===r))return e()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){c=l[i],u=c.getAttribute("data-href");if(u===a||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||r,o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.request=a,n(o)},p.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=i);var u,l=document.getElementsByTagName("head")[0],p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=c(t),u=function(e){p.onerror=p.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[t]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:p})},12e4);p.onerror=p.onload=u,l.appendChild(p)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0cbc":function(t,e,n){},"106f":function(t,e,n){},"2f8f":function(t,e,n){"use strict";var a=n("a0c6"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-app",{attrs:{id:"app","md-waterfall":"","md-mode":"fixed"}},[n("md-app-toolbar",{staticClass:"md-primary"},[n("span",{staticClass:"md-title"},[n("router-link",{attrs:{to:"/"}},[t._v("\n        Job Marketplace\n      ")])],1),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[n("icon-base",{attrs:{"icon-name":"home"}},[n("icon-home")],1)],1),n("router-link",{attrs:{to:"/login"}},[n("icon-base",{attrs:{"icon-name":"user"}},[n("icon-user")],1)],1)],1)]),n("md-app-content",[n("router-view")],1)],1)},o=[],i=n("c93e"),c=n("2f62"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("path",{attrs:{d:"M437.02,330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521,243.251,404,198.548,404,148\n\t\tC404,66.393,337.607,0,256,0S108,66.393,108,148c0,50.548,25.479,95.251,64.262,121.962\n\t\tc-36.21,12.495-69.398,33.136-97.281,61.018C26.629,379.333,0,443.62,0,512h40c0-119.103,96.897-216,216-216s216,96.897,216,216\n\t\th40C512,443.62,485.371,379.333,437.02,330.98z M256,256c-59.551,0-108-48.448-108-108S196.449,40,256,40\n\t\tc59.551,0,108,48.448,108,108S315.551,256,256,256z"}})])},u=[],l=n("2877"),p={},d=Object(l["a"])(p,s,u,!1,null,null,null),f=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("g",[n("path",{attrs:{d:"M256,11.96L0,234.276l26.206,30.176l23.967-20.814V440.09c0,33.056,26.893,59.95,59.95,59.95h111.906V304.204h69.941\n\t\tV500.04h109.908c33.056,0,59.95-26.893,59.95-59.95V243.639l23.967,20.814L512,234.277L256,11.96z M421.861,440.09\n\t\tc0,11.019-8.964,19.983-19.983,19.983h-69.941V264.238H182.062v195.836h-71.94c-11.019,0-19.983-8.964-19.983-19.983V208.931\n\t\tL256,64.894l165.861,144.037V440.09z"}})])])},h=[],b={},v=Object(l["a"])(b,m,h,!1,null,null,null),g=v.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,viewBox:"0 0 512 512","aria-labelledby":t.iconName,role:"presentation"}},[n("title",{attrs:{id:t.iconName,lang:"en"}},[t._v(t._s(t.iconName)+" icon")]),n("g",{attrs:{fill:t.iconColor}},[t._t("default")],2)])},j=[],w=(n("c5f6"),{props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},iconColor:{type:String,default:"currentColor"}}}),A=w,E=(n("2f8f"),Object(l["a"])(A,y,j,!1,null,"bc7f16a4",null)),I=E.exports,_={name:"app",components:{IconUser:f,IconHome:g,IconBase:I},methods:Object(i["a"])({},Object(c["b"])(["fetchJobs","updateUserEmail"])),created:function(){this.loaded||this.fetchJobs()}},S=_,x=(n("5c0b"),Object(l["a"])(S,r,o,!1,null,null,null)),O=x.exports,k=n("8c4f"),J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},t._l(t.jobs,function(e){return n("md-content",{staticClass:"md-elevation-3"},[n("h1",[t._v(t._s(e.title)+".")]),n("h2",[t._v(t._s(e.company)+".")]),n("p",[t._v(t._s(e.description)+".")]),n("apply-button",{attrs:{jobId:e.id,userEmail:t.user.email}})],1)}))},C=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-button-container"},[t.showApply?n("md-button",{staticClass:"md-primary md-raised",on:{click:t.onApply}},[t._v("\n    Apply\n  ")]):n("md-button",{staticClass:"md-accent md-raised",on:{click:t.onRetract}},[t._v("\n    Retract\n  ")]),n("md-snackbar",{attrs:{"md-active":t.displayAlert,"md-persistent":""},on:{"update:mdActive":function(e){t.displayAlert=e}}},[t._v("Please enter your email in order to apply!"),n("router-link",{attrs:{to:"/login"}},[t._v("Go to login here")])],1)],1)},M=[],T=(n("96cf"),n("3040")),L={name:"ApplyButton",model:{prop:"userEmail",event:"userEmailChanged"},props:{jobId:Number,userEmail:String},data:function(){return{showApply:!0,displayAlert:!1}},methods:Object(i["a"])({},Object(c["b"])(["addJobApplicant","removeJobApplicant","isApplied"]),{showEmailAlert:function(){this.displayAlert=!0},onRetract:function(){this.userEmail?(this.removeJobApplicant({applicantId:this.userEmail,jobId:this.jobId}),this.showApply=!0):this.showEmailAlert()},onApply:function(){this.userEmail?(this.addJobApplicant({applicantId:this.userEmail,jobId:this.jobId}),this.showApply=!1):this.showEmailAlert()}}),mounted:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.userEmail){t.next=5;break}return t.next=3,this.isApplied({applicantId:this.userEmail,jobId:this.jobId});case 3:e=t.sent,this.showApply=!e;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},P=L,B=(n("c614"),Object(l["a"])(P,N,M,!1,null,"87f7d4de",null)),R=B.exports,V={name:"JobsList",computed:Object(c["c"])(["jobs","user"]),components:{ApplyButton:R}},$=V,U=(n("ff46"),Object(l["a"])($,J,C,!1,null,"3e298342",null)),z=U.exports;a["default"].use(k["a"]);var q=new k["a"]({routes:[{path:"/",name:"JobsList",component:z},{path:"/login",name:"login",component:function(){return n.e("chunk-5a8d").then(n.bind(null,"a55b"))}}]}),H=(n("ac6a"),n("bc3a")),G=n.n(H),D="http://localhost:3000",F="".concat(D,"/jobs"),K=0,Q=1,W=2;a["default"].use(c["a"]);var X=new c["a"].Store({state:{jobs:[],jobsMap:{},user:{email:""},loaded:!1,status:K},mutations:{updateLoadStatus:function(t,e){t.loaded},addJob:function(t,e){var n=t.jobs,a=t.jobsMap;n.push(e),a[e.id]=n[n.length-1]},updateUserEmail:function(t,e){var n=t.user;n.email=e},updateStatus:function(t,e){t.status},addJobApplicant:function(t,e){var n=t.jobsMap,a=e.applicantId,r=e.jobId;if(a&&!isNaN(parseInt(r))){var o=n[r].applicantsIds;-1===o.indexOf(a)&&o.push(a)}},removeJobApplicant:function(t,e){var n=t.jobsMap,a=e.applicantId,r=e.jobId;if(a&&!isNaN(parseInt(r))){var o=n[r].applicantsIds,i=o.indexOf(a);i>=0&&o.splice(i,1)}}},actions:{fetchJobs:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.dispatch,t.prev=1,t.next=4,G.a.get(F);case 4:r=t.sent,r.data.forEach(function(t){n("addJob",t)}),a("changeStatusToLoaded"),n("updateLoadStatus",!0),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.error(t.t0),a("changeStatusToError");case 14:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),isApplied:function(t,e){var n=t.state,a=e.applicantId,r=e.jobId;if(console.log("dfdf"),r&&a){var o=n.jobsMap;return o[r].applicantsIds.indexOf(a.trim())>=0}},updateUserEmail:function(t,e){var n=t.commit;n("updateUserEmail",e)},addJobApplicant:function(t,e){var n=t.commit,a=e.applicantId,r=e.jobId;n("addJobApplicant",{applicantId:a,jobId:r})},removeJobApplicant:function(t,e){var n=t.commit,a=e.applicantId,r=e.jobId;n("removeJobApplicant",{applicantId:a,jobId:r})},changeStatusToLoaded:function(t){var e=t.commit;e("updateStatus",Q)},changeStatusToError:function(t){var e=t.commit;e("updateStatus",W)},changeStatusToLoading:function(t){var e=t.commit;e("updateStatus",K)}}}),Y=n("43f9"),Z=n.n(Y);n("51de"),n("e094");a["default"].config.productionTip=!1,a["default"].use(Z.a),new a["default"]({router:q,store:X,render:function(t){return t(O)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("106f"),r=n.n(a);r.a},a0c6:function(t,e,n){},a469:function(t,e,n){},c614:function(t,e,n){"use strict";var a=n("0cbc"),r=n.n(a);r.a},ff46:function(t,e,n){"use strict";var a=n("a469"),r=n.n(a);r.a}});
//# sourceMappingURL=app.2b0a56ae.js.map